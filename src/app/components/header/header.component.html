<header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <!-- Logo -->
            <a class="navbar-brand" routerLink="/" routerLinkActive="active">
                <img src="assets/logos/logo.png" alt="PixelNova" class="logo">
            </a>

            <!-- Botón Hamburguesa (para móviles) -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Enlaces del menú -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" routerLink="/" routerLinkActive="active"
                            [routerLinkActiveOptions]="{ exact: true }" (click)="closeNavbar()">Inicio</a>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="servicesDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Servicios
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="servicesDropdown">
                            <li><a class="dropdown-item" routerLink="/services/webs" routerLinkActive="active"
                                    (click)="closeNavbar()">Webs a medida para tu empresa</a></li>
                            <li><a class="dropdown-item" routerLink="/services/componentes" routerLinkActive="active"
                                    (click)="closeNavbar()">Funcionalidades extras para tu web</a></li>
                            <li><a class="dropdown-item" routerLink="/services/soporte" routerLinkActive="active"
                                    (click)="closeNavbar()">soporte digital para tu negocio 24/7</a></li>
                            <li><a class="dropdown-item" routerLink="/services/mantenimiento" routerLinkActive="active"
                                    (click)="closeNavbar()">mantenimiento y mejora de tu web actual</a></li>
                            <li><a class="dropdown-item" routerLink="/services/marketing digital"
                                    routerLinkActive="active" (click)="closeNavbar()">marketing digital para maximizar
                                    el rendimiento de tu negocio</a></li>
                            <li><a class="dropdown-item" routerLink="/services/rrss" routerLinkActive="active"
                                    (click)="closeNavbar()">servicio de comunity manager</a></li>
                            <li class="dropdown-divider"></li>
                            <li class="dropdown-submenu">
                                <a class="dropdown-item dropdown-toggle" routerLink="/services/video"
                                    routerLinkActive="active">Vídeo Aéreo</a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" routerLink="/services/video/inmobiliaria"
                                            routerLinkActive="active" (click)="closeNavbar()">Inmobiliaria</a></li>
                                    <li><a class="dropdown-item" routerLink="/services/video/turismo"
                                            routerLinkActive="active" (click)="closeNavbar()">Turismo</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>

                    <!-- Menú desplegable para Memoriales -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="memorialDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Memoriales
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="memorialDropdown">
                            <li><a class="dropdown-item" routerLink="/memorial" routerLinkActive="active"
                                    (click)="closeNavbar()">Qué son los memoriales</a></li>
                            <li><a class="dropdown-item" routerLink="/memorials" routerLinkActive="active"
                                    (click)="closeNavbar()">Mis Memoriales</a></li>
                        </ul>
                    </li>

                    <li class="nav-item"><a class="nav-link" routerLink="/blog" routerLinkActive="active"
                            (click)="closeNavbar()">Blog</a></li>
                    <li class="nav-item"><a class="nav-link" routerLink="/contact" routerLinkActive="active"
                            (click)="closeNavbar()">Contacto</a></li>
                </ul>
            </div>

            <!-- Redes Sociales -->
            <div class="social-icons d-none d-lg-flex ms-3">
                <a href="https://www.youtube.com/@asturdrones" target="_blank" class="social-link">
                    <i class="bi bi-youtube"></i>
                </a>
                <a href="https://bsky.app/profile/asturdrones.es" target="_blank" class="social-link">
                    <img src="assets/logos/bluesky-logo.png" alt="Bluesky" class="social-icon">
                </a>
            </div>

            <!-- Ícono del usuario al final del navbar -->
            <div class="nav-item user-icon ms-3">
                <ng-container *ngIf="user; else loginLink">
                    <a class="nav-link text-light d-flex align-items-center" (click)="logout()" title="Cerrar sesión">
                        <img *ngIf="user.photo" [attr.src]="user.photo" class="user-photo" alt="Foto de usuario">
                        <span *ngIf="!user.photo" class="bi bi-person-circle text-success user-placeholder"></span>
                    </a>
                </ng-container>
                <ng-template #loginLink>
                    <a class="nav-link text-light d-flex align-items-center" routerLink="/login"
                        routerLinkActive="active" title="Iniciar sesión">
                        <span class="bi bi-person-circle text-white user-placeholder"></span>
                    </a>
                </ng-template>
            </div>
        </div>
    </nav>
</header>