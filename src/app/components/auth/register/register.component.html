<!-- ✅ Formulario de registro -->
<form (ngSubmit)="onRegister()">
    <div class="mb-3">
      <label for="name" class="form-label">Nombre</label>
      <input type="text" id="name" [(ngModel)]="name" name="name" class="form-control" required>
    </div>
  
    <div class="mb-3">
      <label for="email" class="form-label">Correo electrónico</label>
      <input type="email" id="email" [(ngModel)]="email" name="email" class="form-control" required>
    </div>
  
    <div class="mb-3">
      <label for="password" class="form-label">Contraseña</label>
      <input type="password" id="password" [(ngModel)]="password" name="password" class="form-control" required>
    </div>
  
    <!-- ✅ Input para seleccionar imagen -->
    <div class="mb-3">
      <label for="photo" class="form-label">Foto de perfil</label>
      <input #fileInput type="file" id="photo" (change)="openCropModal($event)" class="form-control">
    </div>
  
    <!-- ✅ Vista previa de la imagen confirmada -->
    <div *ngIf="finalImage" class="mt-3 text-center">
      <p>Imagen confirmada:</p>
      <img [src]="finalImage" class="rounded-circle img-thumbnail" style="max-width: 150px;">
    </div>
  
    <!-- ✅ Botón de registro desactivado si no hay imagen confirmada -->
    <button type="submit" class="btn btn-success w-100" [disabled]="!isImageConfirmed">Registrarse</button>
  </form>
  
  <!-- ✅ Modal de recorte de imagen -->
  <app-image-crop-modal
    *ngIf="showCropModal"
    [imageChangedEvent]="imageChangedEvent"
    (imageCropped)="onImageCropped($event)"
    (modalClosed)="closeCropModal()"
  ></app-image-crop-modal>